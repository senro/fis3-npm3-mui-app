    var $=require('egis-jquery');
    var systemMessage=require('egis-system-message');
    var regs=require('./regs');

    function validateForm($form){
        var canSubmit=true;
        var $requireItems=$form.find('select[required=required],input[required=required]');

        $requireItems.each(function(index){
            var $currItem=$(this),
                type=$currItem.get(0).tagName,
                msg=$currItem.attr('data-vd-msg'),
                valueType=$currItem.attr('data-vd-type'),//attr('data-vd-type')||'input'
                valueMsg=$currItem.attr('data-vd-typeMsg'),
                value;
            switch (type){
                case 'SELECT':
                    value=$currItem.find('option:selected').val();
                    //select只需判断有无值
                    if(!value){
                        canSubmit=false;
                        systemMessage.alert(msg);
                        return false;
                    }
                    break;
                case 'INPUT':
                    value=$currItem.val();
                    //没有定义值类型，默认只检测是否为空
                    if(!value){
                        canSubmit=false;
                        systemMessage.alert(msg);
                        return false;
                    }else{
                        //根据定义的值类型，去判断值是否正确，不正确则提示定义的消息
                        if(valueType){
                            if (regs[valueType] && !regs[valueType].test(value)) {
                                canSubmit=false;
                                systemMessage.alert(valueMsg);
                            }
                        }else{
                            //todo 如果regs模块不存在该类型，则默认它为自定义正则字符串表达式

                        }
                    }

                    break;
            }
        });

        return canSubmit;
    }
    exports.validateForm=validateForm;